## ASP.NET Core API アプリでの .NET 型から JSON への変換

| .NET の型             | JSON 文字列の形式                                  | 例                                             |
| :-------------------- | :------------------------------------------------- | :--------------------------------------------- |
| `int`, `long`, `short`, `byte` | 数値 (そのまま)                                    | `123`, `-45`                                  |
| `float`, `double`, `decimal` | 数値 (そのまま)                                    | `3.14`, `-0.5`, `12.99`                       |
| `bool`                | `true` または `false`                                | `true`, `false`                                |
| `string`              | ダブルクォーテーションで囲まれた文字列                 | `"Hello"`, `""`                               |
| `DateTime`, `DateTimeOffset` | ISO 8601 形式の文字列 (UTC 推奨)                   | `"2025-05-16T00:46:00.000Z"`, `"2025-05-16T09:46:00+09:00"` |
| `TimeSpan`            | ISO 8601 期間形式の文字列 (`PnDTnHnMnS`)             | `"PT1H30M"`, `"P1D"`, `"PT0.5S"`                |
| `Guid`                | 標準的な GUID 文字列表現 (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx) | `"a1b2c3d4-e5f6-7890-1234-567890abcdef"`     |
| `enum`                | 列挙型の名前 (文字列)                                | `"ValueA"`, `"MyEnumMember"`                   |
| `List<T>`, `T[]`     | JSON 配列 (`[...]`)                                | `[1, 2, 3]`, `["apple", "banana"]`             |
| `Dictionary<TKey, TValue>` | JSON オブジェクト (`{...}`)。キーは文字列に変換されます。 | `{"name": "John", "age": 30}`                  |
| オブジェクト (POCO)   | JSON オブジェクト (`{...}`)。public プロパティがキーと値になります。 | `{"firstName": "太郎", "lastName": "山田", "age": 25}` |
| `null` (Nullable 型)  | `null` (JSON の null)                               | `null`                                         |

**補足:**

* **日付と時間:** `DateTime` および `DateTimeOffset` は、ISO 8601 形式の文字列に変換されるのが一般的です。UTC での表現が推奨されます。
* **列挙型:** デフォルトでは、列挙型の名前の文字列としてシリアライズされます。数値としてシリアライズすることも設定可能です。
* **辞書:** `Dictionary<TKey, TValue>` は JSON オブジェクトに変換され、キーは文字列になります。キーが数値型などの場合は、その `ToString()` の結果がキーとして使用されます。
* **オブジェクト:** カスタムクラスのオブジェクトは、その public プロパティをキーと値のペアとする JSON オブジェクトになります。
* **`null`:** Nullable な型 (`int?`, `string`, クラスなど) の値が `null` の場合、JSON でも `null` として表現されます。

これは一般的なデフォルトの変換規則であり、`System.Text.Json` のオプションを設定することで、この挙動をカスタマイズすることも可能です。例えば、日付形式の変更、列挙型を数値で出力する、プロパティ名の大文字・小文字の制御などが行えます。

API アプリケーションでデータの形式を確認する際には、実際に API のレスポンスを調べてみるのが最も確実です。

何か特定の型の JSON 変換について、さらに詳しく知りたい場合はお気軽にお尋ねください。
